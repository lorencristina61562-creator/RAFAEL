<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Faturamento L√≠quido Completo</title>
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #27ae60;
            --accent: #3498db;
            --danger: #e74c3c;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #2c3e50;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        body { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333; 
            padding: 20px;
            min-height: 100vh;
        }
        
        .container { 
            max-width: 1200px; 
            margin: 0 auto;
            background: white; 
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        header { 
            background: var(--primary); 
            color: white; 
            padding: 30px; 
            text-align: center;
        }
        
        h1 { 
            font-size: 2.5rem; 
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .tab-container { 
            display: flex; 
            background: #34495e; 
            flex-wrap: wrap;
        }
        
        .tab { 
            flex: 1; 
            min-width: 200px;
            padding: 18px; 
            text-align: center; 
            color: white; 
            cursor: pointer; 
            font-weight: bold; 
            transition: all 0.3s; 
            border-bottom: 3px solid transparent;
            font-size: 1.1rem;
        }
        
        .tab:hover { background: #3d566e; }
        .tab.active { background: var(--primary); border-bottom: 3px solid var(--secondary); }
        
        .tab-content { 
            padding: 40px; 
            display: none; 
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-content.active { display: block; }
        
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .card {
            background: var(--light);
            border-radius: 12px;
            padding: 25px;
            border-left: 5px solid var(--accent);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .card.highlight {
            background: linear-gradient(135deg, #fff9e6 0%, #fff3d1 100%);
            border-left-color: var(--warning);
        }
        
        .input-group { 
            margin-bottom: 25px; 
        }
        
        label { 
            display: block; 
            margin-bottom: 10px; 
            font-weight: 600; 
            color: var(--dark); 
            font-size: 1rem;
        }
        
        input, select { 
            width: 100%; 
            padding: 14px 18px; 
            border: 2px solid #ddd; 
            border-radius: 10px; 
            font-size: 1rem; 
            transition: all 0.3s;
            background: white;
        }
        
        input:focus, select:focus { 
            border-color: var(--accent); 
            outline: none; 
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-with-icon input {
            padding-left: 45px;
        }
        
        .input-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #7f8c8d;
            font-size: 1.2rem;
        }
        
        button { 
            background: var(--secondary); 
            color: white; 
            border: none; 
            padding: 16px 30px; 
            border-radius: 10px; 
            font-size: 1.1rem; 
            cursor: pointer; 
            transition: all 0.3s; 
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        button:hover { 
            background: #219653; 
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }
        
        .btn-secondary { 
            background: var(--accent); 
        }
        
        .btn-secondary:hover { 
            background: #2980b9;
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }
        
        .btn-danger { 
            background: var(--danger); 
        }
        
        .btn-danger:hover { 
            background: #c0392b;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }
        
        .results { 
            margin-top: 40px; 
        }
        
        .result-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
            border: 2px solid #eee;
            transition: all 0.3s;
        }
        
        .result-card:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
        }
        
        .result-title { 
            font-weight: 700; 
            color: var(--dark); 
            display: block; 
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .result-value { 
            font-size: 2.5rem; 
            color: var(--secondary); 
            font-weight: 800; 
            margin: 15px 0;
        }
        
        .result-detail { 
            color: #7f8c8d; 
            font-size: 1rem; 
            margin-top: 10px;
            line-height: 1.6;
        }
        
        .percentage { 
            color: var(--danger); 
            font-weight: 700; 
            font-size: 1.1rem;
        }
        
        .total-box { 
            background: linear-gradient(135deg, var(--primary) 0%, #1a252f 100%); 
            color: white; 
            padding: 30px; 
            border-radius: 15px; 
            text-align: center; 
            margin-top: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
        }
        
        .funcionario-item { 
            background: white; 
            padding: 25px; 
            margin-bottom: 20px; 
            border-radius: 12px; 
            border: 2px solid #eee;
            transition: all 0.3s;
        }
        
        .funcionario-item:hover {
            border-color: var(--accent);
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
        }
        
        .funcionario-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 20px; 
            padding-bottom: 15px;
            border-bottom: 2px solid #f1f1f1;
        }
        
        .funcionario-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .remove-btn { 
            background: var(--danger); 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 8px; 
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }
        
        .summary-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .summary-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }
        
        .footer { 
            text-align: center; 
            color: #95a5a6; 
            font-size: 0.95rem; 
            margin-top: 40px; 
            padding-top: 25px; 
            border-top: 1px solid #eee; 
            line-height: 1.6;
        }
        
        .icon { 
            font-size: 1.3rem;
        }
        
        @media (max-width: 768px) {
            .tab { min-width: 150px; padding: 15px 10px; }
            .tab-content { padding: 25px; }
            h1 { font-size: 2rem; }
            .result-value { font-size: 2rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üßÆ Calculadora de Faturamento L√≠quido</h1>
            <p style="font-size: 1.2rem; opacity: 0.9;">Calcule seu lucro real ap√≥s TODAS as despesas</p>
        </header>
        
        <div class="tab-container">
            <div class="tab active" onclick="openTab('faturamento')">üí∞ Faturamento</div>
            <div class="tab" onclick="openTab('impostos')">üìä Impostos</div>
            <div class="tab" onclick="openTab('funcionarios')">üë• Funcion√°rios</div>
            <div class="tab" onclick="openTab('despesas')">üìã Despesas Fixas</div>
            <div class="tab" onclick="openTab('resultado')">üìà Resultado Final</div>
        </div>
        
        <!-- ABA FATURAMENTO -->
        <div id="faturamento" class="tab-content active">
            <h2 style="color: var(--primary); margin-bottom: 25px;">üí∞ Informa√ß√µes de Faturamento</h2>
            
            <div class="grid-container">
                <div class="card">
                    <div class="input-group">
                        <label for="faturamentoAnual">Faturamento Anual Bruto (R$)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="faturamentoAnual" placeholder="Ex: 150000" value="150000" oninput="calcularTudo()">
                        </div>
                        <p class="result-detail">Valor total faturado no ano antes de qualquer desconto</p>
                    </div>
                    
                    <div class="input-group">
                        <label for="faturamentoMensal">Faturamento Mensal M√©dio (R$)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="faturamentoMensal" placeholder="Ex: 12500" value="12500" oninput="atualizarFaturamentoAnual()">
                        </div>
                        <p class="result-detail">Preencha este campo para calcular automaticamente o anual (x12)</p>
                    </div>
                </div>
                
                <div class="card highlight">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">üìÖ Proje√ß√£o Atual</h3>
                    <div class="result-detail">
                        <p><strong>Faturamento Anual:</strong> <span id="previewAnual">R$ 150.000,00</span></p>
                        <p><strong>Faturamento Mensal:</strong> <span id="previewMensal">R$ 12.500,00</span></p>
                        <p><strong>N√∫mero de meses:</strong> <span id="previewMeses">12</span> meses</p>
                    </div>
                    
                    <div class="input-group" style="margin-top: 20px;">
                        <label for="mesesFaturamento">N√∫mero de Meses Considerados</label>
                        <select id="mesesFaturamento" onchange="calcularTudo()">
                            <option value="12">12 meses (Ano completo)</option>
                            <option value="6">6 meses (Semestre)</option>
                            <option value="3">3 meses (Trimestre)</option>
                            <option value="1">1 m√™s</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <button onclick="openTab('impostos')" style="margin-top: 20px;">
                <span class="icon">‚Üí</span> Continuar para Impostos
            </button>
        </div>
        
        <!-- ABA IMPOSTOS -->
        <div id="impostos" class="tab-content">
            <h2 style="color: var(--primary); margin-bottom: 25px;">üìä Impostos e Tributa√ß√µes</h2>
            
            <div class="grid-container">
                <div class="card">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">Imposto sobre Faturamento</h3>
                    
                    <div class="input-group">
                        <label for="percentualImposto">Percentual de Imposto (%)</label>
                        <div class="input-with-icon">
                            <input type="number" id="percentualImposto" placeholder="Ex: 6" value="6" step="0.1" oninput="calcularTudo()">
                            <span class="input-icon">%</span>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="valorImpostoFixo">Ou valor fixo de imposto (R$)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="valorImpostoFixo" placeholder="Ex: 9000" value="0" oninput="calcularTudo()">
                        </div>
                        <p class="result-detail">Deixe como 0 para usar o c√°lculo por percentual</p>
                    </div>
                    
                    <div class="result-detail" style="margin-top: 20px; background: #e8f4fc; padding: 15px; border-radius: 8px;">
                        <p><strong>Total estimado de impostos:</strong> <span id="previewImposto">R$ 9.000,00</span></p>
                        <p><strong>Percentual do faturamento:</strong> <span id="previewImpostoPct">6,0%</span></p>
                    </div>
                </div>
                
                <div class="card">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">Outras Tributa√ß√µes</h3>
                    
                    <div class="input-group">
                        <label for="outrosImpostos">Outros impostos/contribui√ß√µes (R$ mensais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="outrosImpostos" placeholder="Ex: 200" value="0" oninput="calcularTudo()">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="taxasMunicipais">Taxas municipais/licen√ßas (R$ anuais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="taxasMunicipais" placeholder="Ex: 500" value="0" oninput="calcularTudo()">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>Tipo de tributa√ß√£o</label>
                        <select id="tipoTributacao" onchange="calcularTudo()">
                            <option value="percentual">Porcentagem sobre faturamento</option>
                            <option value="simples">Simples Nacional</option>
                            <option value="lucro">Lucro Presumido</option>
                            <option value="real">Lucro Real</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button onclick="openTab('faturamento')" class="btn-secondary">
                    <span class="icon">‚Üê</span> Voltar
                </button>
                <button onclick="openTab('funcionarios')">
                    <span class="icon">‚Üí</span> Continuar para Funcion√°rios
                </button>
            </div>
        </div>
        
        <!-- ABA FUNCION√ÅRIOS -->
        <div id="funcionarios" class="tab-content">
            <h2 style="color: var(--primary); margin-bottom: 25px;">üë• Despesas com Funcion√°rios</h2>
            
            <div id="listaFuncionariosContainer">
                <!-- Funcion√°rios ser√£o inseridos aqui -->
            </div>
            
            <button onclick="adicionarFuncionario()" class="btn-secondary" style="margin-top: 20px;">
                <span class="icon">+</span> Adicionar Funcion√°rio
            </button>
            
            <div class="card highlight" style="margin-top: 30px;">
                <h3 style="color: var(--primary); margin-bottom: 20px;">Resumo de Custos com Funcion√°rios</h3>
                
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="result-title">Custo Mensal Total</div>
                        <div class="summary-value" id="resumoCustoMensal">R$ 0,00</div>
                        <div class="result-detail">Somente funcion√°rios</div>
                    </div>
                    
                    <div class="summary-item">
                        <div class="result-title">Custo Anual Total</div>
                        <div class="summary-value" id="resumoCustoAnual">R$ 0,00</div>
                        <div class="result-detail">Somente funcion√°rios</div>
                    </div>
                    
                    <div class="summary-item">
                        <div class="result-title">N¬∫ de Funcion√°rios</div>
                        <div class="summary-value" id="resumoNumFuncionarios">0</div>
                        <div class="result-detail">Cadastrados</div>
                    </div>
                    
                    <div class="summary-item">
                        <div class="result-title">Custo M√©dio por Func.</div>
                        <div class="summary-value" id="resumoCustoMedio">R$ 0,00</div>
                        <div class="result-detail">Por m√™s</div>
                    </div>
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button onclick="openTab('impostos')" class="btn-secondary">
                    <span class="icon">‚Üê</span> Voltar
                </button>
                <button onclick="openTab('despesas')">
                    <span class="icon">‚Üí</span> Continuar para Despesas Fixas
                </button>
            </div>
        </div>
        
        <!-- ABA DESPESAS FIXAS -->
        <div id="despesas" class="tab-content">
            <h2 style="color: var(--primary); margin-bottom: 25px;">üìã Despesas Fixas do Neg√≥cio</h2>
            
            <div class="grid-container">
                <div class="card">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">Profissionais e Servi√ßos</h3>
                    
                    <div class="input-group">
                        <label for="contadorMensal">Contador (R$ mensais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="contadorMensal" placeholder="Ex: 450" value="450" oninput="calcularTudo()">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="inssMensal">INSS (R$ mensais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="inssMensal" placeholder="Ex: 166" value="166" oninput="calcularTudo()">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="advogadoMensal">Advogado/Assessoria (R$ mensais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="advogadoMensal" placeholder="Ex: 300" value="0" oninput="calcularTudo()">
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">Custos Operacionais</h3>
                    
                    <div class="input-group">
                        <label for="aluguelMensal">Aluguel/Financiamento (R$ mensais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="aluguelMensal" placeholder="Ex: 1500" value="0" oninput="calcularTudo()">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="energiaInternet">Energia, Internet, Telefone (R$ mensais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="energiaInternet" placeholder="Ex: 400" value="0" oninput="calcularTudo()">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="outrasDespesas">Outras despesas fixas (R$ mensais)</label>
                        <div class="input-with-icon">
                            <span class="input-icon">R$</span>
                            <input type="number" id="outrasDespesas" placeholder="Ex: 200" value="0" oninput="calcularTudo()">
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card highlight" style="margin-top: 30px;">
                <h3 style="color: var(--primary); margin-bottom: 20px;">üìä Resumo das Despesas Fixas Mensais</h3>
                
                <div class="summary-grid">
                    <div class="summary-item">
                        <div class="result-title">Profissionais</div>
                        <div class="summary-value" id="resumoProfissionais">R$ 616,00</div>
                        <div class="result-detail">Contador, INSS, etc.</div>
                    </div>
                    
                    <div class="summary-item">
                        <div class="result-title">Operacionais</div>
                        <div class="summary-value" id="resumoOperacionais">R$ 0,00</div>
                        <div class="result-detail">Aluguel, energia, etc.</div>
                    </div>
                    
                    <div class="summary-item">
                        <div class="result-title">Total Mensal</div>
                        <div class="summary-value" id="resumoDespesasMensal">R$ 616,00</div>
                        <div class="result-detail">Todas as despesas fixas</div>
                    </div>
                    
                    <div class="summary-item">
                        <div class="result-title">Total Anual</div>
                        <div class="summary-value" id="resumoDespesasAnual">R$ 7.392,00</div>
                        <div class="result-detail">Todas as despesas fixas</div>
                    </div>
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button onclick="openTab('funcionarios')" class="btn-secondary">
                    <span class="icon">‚Üê</span> Voltar
                </button>
                <button onclick="openTab('resultado')">
                    <span class="icon">üìà</span> Ver Resultado Final
                </button>
            </div>
        </div>
        
        <!-- ABA RESULTADO FINAL -->
        <div id="resultado" class="tab-content">
            <h2 style="color: var(--primary); margin-bottom: 25px;">üìà Resultado Final - Faturamento L√≠quido</h2>
            
            <div class="total-box">
                <div style="font-size: 1.2rem; margin-bottom: 10px;">FATURAMENTO BRUTO ANUAL</div>
                <div style="font-size: 3.5rem; font-weight: 800; margin: 20px 0;" id="resultadoBrutoAnual">R$ 150.000,00</div>
                <div style="font-size: 1.1rem; opacity: 0.9;">Antes de qualquer desconto</div>
            </div>
            
            <div class="grid-container" style="margin-top: 30px;">
                <div class="card">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">üìâ Despesas Detalhadas</h3>
                    
                    <div style="margin-bottom: 25px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee;">
                            <span style="font-weight: 600;">Impostos sobre faturamento</span>
                            <span style="font-weight: 700; color: var(--danger);" id="despesaImpostos">R$ 9.000,00</span>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee;">
                            <span style="font-weight: 600;">Custos com funcion√°rios</span>
                            <span style="font-weight: 700; color: var(--danger);" id="despesaFuncionarios">R$ 0,00</span>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #eee;">
                            <span style="font-weight: 600;">Despesas fixas (contador, INSS, etc.)</span>
                            <span style="font-weight: 700; color: var(--danger);" id="despesaFixas">R$ 7.392,00</span>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 2px solid var(--primary);">
                            <span style="font-weight: 800;">TOTAL DE DESPESAS</span>
                            <span style="font-weight: 800; color: var(--danger); font-size: 1.2rem;" id="despesaTotal">R$ 16.392,00</span>
                        </div>
                    </div>
                    
                    <div class="result-detail">
                        <p><strong>Percentual do faturamento:</strong> <span class="percentage" id="despesaPercentual">10,9%</span></p>
                        <p><strong>M√©dia mensal de despesas:</strong> <span id="despesaMensal">R$ 1.366,00</span></p>
                    </div>
                </div>
                
                <div class="card highlight">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">üí∞ Lucro L√≠quido</h3>
                    
                    <div style="text-align: center; padding: 30px 0;">
                        <div style="font-size: 1.3rem; margin-bottom: 15px; color: #7f8c8d;">SEU LUCRO REAL</div>
                        <div style="font-size: 4rem; font-weight: 900; color: var(--secondary); margin: 20px 0;" id="resultadoLiquidoAnual">R$ 133.608,00</div>
                        <div style="font-size: 1.2rem; color: #27ae60;">Ap√≥s TODAS as despesas</div>
                    </div>
                    
                    <div class="summary-grid">
                        <div class="summary-item">
                            <div class="result-title">Lucro Mensal</div>
                            <div class="summary-value" id="resultadoLiquidoMensal">R$ 11.134,00</div>
                        </div>
                        
                        <div class="summary-item">
                            <div class="result-title">Margem de Lucro</div>
                            <div class="summary-value" id="resultadoMargem">89,1%</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card" style="margin-top: 30px;">
                <h3 style="color: var(--primary); margin-bottom: 20px;">üìä Distribui√ß√£o do Faturamento</h3>
                
                <div style="display: flex; height: 40px; border-radius: 8px; overflow: hidden; margin-top: 20px;">
                    <div id="graficoLucro" style="background: #27ae60; width: 89.1%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">Lucro (89,1%)</div>
                    <div id="graficoImpostos" style="background: #e74c3c; width: 6.0%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">Impostos (6,0%)</div>
                    <div id="graficoFuncionarios" style="background: #3498db; width: 0%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">Funcion√°rios (0%)</div>
                    <div id="graficoFixas" style="background: #f39c12; width: 4.9%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700;">Fixas (4,9%)</div>
                </div>
                
                <div class="summary-grid" style="margin-top: 25px;">
                    <div class="summary-item" style="border-left: 4px solid #27ae60;">
                        <div class="result-title">Lucro L√≠quido</div>
                        <div class="summary-value" id="distLucro">89,1%</div>
                    </div>
                    
                    <div class="summary-item" style="border-left: 4px solid #e74c3c;">
                        <div class="result-title">Impostos</div>
                        <div class="summary-value" id="distImpostos">6,0%</div>
                    </div>
                    
                    <div class="summary-item" style="border-left: 4px solid #3498db;">
                        <div class="result-title">Funcion√°rios</div>
                        <div class="summary-value" id="distFuncionarios">0%</div>
                    </div>
                    
                    <div class="summary-item" style="border-left: 4px solid #f39c12;">
                        <div class="result-title">Despesas Fixas</div>
                        <div class="summary-value" id="distFixas">4,9%</div>
                    </div>
                </div>
            </div>
            
            <button onclick="calcularTudo()" style="margin-top: 30px; width: 100%;">
                <span class="icon">üîÑ</span> Recalcular Tudo
            </button>
        </div>
        
        <div class="footer">
            <p>‚ö†Ô∏è Esta calculadora fornece estimativas para planejamento. Consulte um contador para an√°lise fiscal precisa.</p>
            <p>üíæ Seus dados s√£o processados localmente e n√£o s√£o enviados para servidores externos.</p>
        </div>
    </div>

    <script>
        // Formata n√∫meros como moeda brasileira
        function formatarMoeda(valor) {
            return valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }
        
        // Sistema de abas
        function openTab(tabName) {
            // Esconde todas as abas
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove a classe active de todas as tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Mostra a aba selecionada
            document.getElementById(tabName).classList.add('active');
            
            // Ativa a tab clicada
            event.currentTarget.classList.add('active');
            
            // Se for a aba de resultado, recalcula tudo
            if (tabName === 'resultado') {
                calcularTudo();
            }
        }
        
        // Atualiza o faturamento anual baseado no mensal
        function atualizarFaturamentoAnual() {
            const faturamentoMensal = parseFloat(document.getElementById('faturamentoMensal').value) || 0;
            const meses = parseInt(document.getElementById('mesesFaturamento').value) || 12;
            
            const faturamentoAnual = faturamentoMensal * meses;
            document.getElementById('faturamentoAnual').value = faturamentoAnual;
            
            calcularTudo();
        }
        
        // Vari√°veis globais para funcion√°rios
        let proximoIdFuncionario = 1;
        
        // Adiciona um novo funcion√°rio
        function adicionarFuncionario() {
            const container = document.getElementById('listaFuncionariosContainer');
            const id = proximoIdFuncionario++;
            
            const funcionarioHTML = `
                <div class="funcionario-item" id="funcionario-${id}">
                    <div class="funcionario-header">
                        <h3 style="margin: 0;">Funcion√°rio #${id}</h3>
                        <button class="remove-btn" onclick="removerFuncionario(${id})">
                            <span class="icon">√ó</span> Remover
                        </button>
                    </div>
                    
                    <div class="funcionario-grid">
                        <div class="input-group">
                            <label for="nomeFuncionario-${id}">Nome do Funcion√°rio</label>
                            <input type="text" id="nomeFuncionario-${id}" placeholder="Ex: Jo√£o Silva" value="Funcion√°rio ${id}" oninput="calcularTudo()">
                        </div>
                        
                        <div class="input-group">
                            <label for="salarioMensal-${id}">Sal√°rio Mensal Bruto (R$)</label>
                            <div class="input-with-icon">
                                <span class="input-icon">R$</span>
                                <input type="number" id="salarioMensal-${id}" placeholder="Ex: 3000" value="3000" oninput="calcularTudo()">
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label for="encargosPercent-${id}">Encargos Trabalhistas (%)</label>
                            <div class="input-with-icon">
                                <input type="number" id="encargosPercent-${id}" placeholder="Ex: 40" value="40" step="0.1" oninput="calcularTudo()">
                                <span class="input-icon">%</span>
                            </div>
                            <p class="result-detail">FGTS, INSS, f√©rias, 13¬∫, etc.</p>
                        </div>
                    </div>
                    
                    <div class="funcionario-grid" style="margin-top: 15px;">
                        <div class="input-group">
                            <label for="refeicaoMensal-${id}">Vale Refei√ß√£o/Alimenta√ß√£o (R$ mensais)</label>
                            <div class="input-with-icon">
                                <span class="input-icon">R$</span>
                                <input type="number" id="refeicaoMensal-${id}" placeholder="Ex: 300" value="300" oninput="calcularTudo()">
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label for="transporteMensal-${id}">Vale Transporte/Gasolina (R$ mensais)</label>
                            <div class="input-with-icon">
                                <span class="input-icon">R$</span>
                                <input type="number" id="transporteMensal-${id}" placeholder="Ex: 200" value="200" oninput="calcularTudo()">
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label for="outrosBeneficios-${id}">Outros Benef√≠cios (R$ mensais)</label>
                            <div class="input-with-icon">
                                <span class="input-icon">R$</span>
                                <input type="number" id="outrosBeneficios-${id}" placeholder="Ex: 100" value="0" oninput="calcularTudo()">
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            container.insertAdjacentHTML('beforeend', funcionarioHTML);
            calcularTudo();
        }
        
        // Remove um funcion√°rio
        function removerFuncionario(id) {
            const funcionario = document.getElementById(`funcionario-${id}`);
            if (funcionario) {
                funcionario.remove();
                calcularTudo();
            }
        }
        
        // Fun√ß√£o principal que calcula tudo
        function calcularTudo() {
            // 1. FATURAMENTO
            const faturamentoAnual = parseFloat(document.getElementById('faturamentoAnual').value) || 0;
            const faturamentoMensal = parseFloat(document.getElementById('faturamentoMensal').value) || 0;
            const meses = parseInt(document.getElementById('mesesFaturamento').value) || 12;
            
            // Atualiza previews
            document.getElementById('previewAnual').textContent = formatarMoeda(faturamentoAnual);
            document.getElementById('previewMensal').textContent = formatarMoeda(faturamentoMensal || faturamentoAnual / meses);
            document.getElementById('previewMeses').textContent = meses;
            
            // 2. IMPOSTOS
            const percentualImposto = parseFloat(document.getElementById('percentualImposto').value) || 0;
            const valorImpostoFixo = parseFloat(document.getElementById('valorImpostoFixo').value) || 0;
            const outrosImpostos = parseFloat(document.getElementById('outrosImpostos').value) || 0;
            const taxasMunicipais = parseFloat(document.getElementById('taxasMunicipais').value) || 0;
            
            let impostoTotal = 0;
            
            if (valorImpostoFixo > 0) {
                impostoTotal = valorImpostoFixo;
            } else {
                impostoTotal = faturamentoAnual * (percentualImposto / 100);
            }
            
            // Adiciona outros impostos (convertendo mensal para anual)
            impostoTotal += (outrosImpostos * meses) + taxasMunicipais;
            
            // Atualiza preview de impostos
            document.getElementById('previewImposto').textContent = formatarMoeda(impostoTotal);
            document.getElementById('previewImpostoPct').textContent = faturamentoAnual > 0 ? ((impostoTotal / faturamentoAnual) * 100).toFixed(1) + '%' : '0%';
            
            // 3. FUNCION√ÅRIOS
            const funcionarios = document.querySelectorAll('.funcionario-item');
            let custoFuncionariosMensal = 0;
            let custoFuncionariosAnual = 0;
            let numFuncionarios = funcionarios.length;
            
            funcionarios.forEach(funcionario => {
                const id = funcionario.id.split('-')[1];
                
                const salario = parseFloat(document.getElementById(`salarioMensal-${id}`).value) || 0;
                const encargosPercent = parseFloat(document.getElementById(`encargosPercent-${id}`).value) || 0;
                const refeicao = parseFloat(document.getElementById(`refeicaoMensal-${id}`).value) || 0;
                const transporte = parseFloat(document.getElementById(`transporteMensal-${id}`).value) || 0;
                const outros = parseFloat(document.getElementById(`outrosBeneficios-${id}`).value) || 0;
                
                const encargos = salario * (encargosPercent / 100);
                const custoMensal = salario + encargos + refeicao + transporte + outros;
                
                custoFuncionariosMensal += custoMensal;
            });
            
            custoFuncionariosAnual = custoFuncionariosMensal * meses;
            
            // Atualiza resumo de funcion√°rios
            document.getElementById('resumoCustoMensal').textContent = formatarMoeda(custoFuncionariosMensal);
            document.getElementById('resumoCustoAnual').textContent = formatarMoeda(custoFuncionariosAnual);
            document.getElementById('resumoNumFuncionarios').textContent = numFuncionarios;
            document.getElementById('resumoCustoMedio').textContent = numFuncionarios > 0 ? formatarMoeda(custoFuncionariosMensal / numFuncionarios) : 'R$ 0,00';
            
            // 4. DESPESAS FIXAS
            const contador = parseFloat(document.getElementById('contadorMensal').value) || 0;
            const inss = parseFloat(document.getElementById('inssMensal').value) || 0;
            const advogado = parseFloat(document.getElementById('advogadoMensal').value) || 0;
            const aluguel = parseFloat(document.getElementById('aluguelMensal').value) || 0;
            const energia = parseFloat(document.getElementById('energiaInternet').value) || 0;
            const outras = parseFloat(document.getElementById('outrasDespesas').value) || 0;
            
            const despesasProfissionais = contador + inss + advogado;
            const despesasOperacionais = aluguel + energia + outras;
            const despesasFixasMensal = despesasProfissionais + despesasOperacionais;
            const despesasFixasAnual = despesasFixasMensal * meses;
            
            // Atualiza resumo de despesas fixas
            document.getElementById('resumoProfissionais').textContent = formatarMoeda(despesasProfissionais);
            document.getElementById('resumoOperacionais').textContent = formatarMoeda(despesasOperacionais);
            document.getElementById('resumoDespesasMensal').textContent = formatarMoeda(despesasFixasMensal);
            document.getElementById('resumoDespesasAnual').textContent = formatarMoeda(despesasFixasAnual);
            
            // 5. C√ÅLCULO FINAL
            const despesasTotaisAnual = impostoTotal + custoFuncionariosAnual + despesasFixasAnual;
            const lucroLiquidoAnual = faturamentoAnual - despesasTotaisAnual;
            const lucroLiquidoMensal = lucroLiquidoAnual / meses;
            
            const percentualImpostos = faturamentoAnual > 0 ? (impostoTotal / faturamentoAnual) * 100 : 0;
            const percentualFuncionarios = faturamentoAnual > 0 ? (custoFuncionariosAnual / faturamentoAnual) * 100 : 0;
            const percentualFixas = faturamentoAnual > 0 ? (despesasFixasAnual / faturamentoAnual) * 100 : 0;
            const percentualLucro = faturamentoAnual > 0 ? (lucroLiquidoAnual / faturamentoAnual) * 100 : 0;
            
            // 6. ATUALIZA RESULTADOS
            // Resultado Final
            document.getElementById('resultadoBrutoAnual').textContent = formatarMoeda(faturamentoAnual);
            document.getElementById('despesaImpostos').textContent = formatarMoeda(impostoTotal);
            document.getElementById('despesaFuncionarios').textContent = formatarMoeda(custoFuncionariosAnual);
            document.getElementById('despesaFixas').textContent = formatarMoeda(despesasFixasAnual);
            document.getElementById('despesaTotal').textContent = formatarMoeda(despesasTotaisAnual);
            document.getElementById('despesaPercentual').textContent = faturamentoAnual > 0 ? ((despesasTotaisAnual / faturamentoAnual) * 100).toFixed(1) + '%' : '0%';
            document.getElementById('despesaMensal').textContent = formatarMoeda(despesasTotaisAnual / meses);
            
            document.getElementById('resultadoLiquidoAnual').textContent = formatarMoeda(lucroLiquidoAnual);
            document.getElementById('resultadoLiquidoMensal').textContent = formatarMoeda(lucroLiquidoMensal);
            document.getElementById('resultadoMargem').textContent = percentualLucro.toFixed(1) + '%';
            
            // Distribui√ß√£o
            document.getElementById('distLucro').textContent = percentualLucro.toFixed(1) + '%';
            document.getElementById('distImpostos').textContent = percentualImpostos.toFixed(1) + '%';
            document.getElementById('distFuncionarios').textContent = percentualFuncionarios.toFixed(1) + '%';
            document.getElementById('distFixas').textContent = percentualFixas.toFixed(1) + '%';
            
            // Gr√°fico
            document.getElementById('graficoLucro').style.width = `${percentualLucro}%`;
            document.getElementById('graficoLucro').textContent = percentualLucro > 5 ? `Lucro (${percentualLucro.toFixed(1)}%)` : '';
            
            document.getElementById('graficoImpostos').style.width = `${percentualImpostos}%`;
            document.getElementById('graficoImpostos').textContent = percentualImpostos > 5 ? `Impostos (${percentualImpostos.toFixed(1)}%)` : '';
            
            document.getElementById('graficoFuncionarios').style.width = `${percentualFuncionarios}%`;
            document.getElementById('graficoFuncionarios').textContent = percentualFuncionarios > 5 ? `Funcion√°rios (${percentualFuncionarios.toFixed(1)}%)` : '';
            
            document.getElementById('graficoFixas').style.width = `${percentualFixas}%`;
            document.getElementById('graficoFixas').textContent = percentualFixas > 5 ? `Fixas (${percentualFixas.toFixed(1)}%)` : '';
        }
        
        // Inicializa a p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            // Adiciona o primeiro funcion√°rio por padr√£o
            adicionarFuncionario();
            
            // Calcula tudo pela primeira vez
            calcularTudo();
            
            // Configura eventos
            document.getElementById('faturamentoAnual').addEventListener('input', function() {
                const faturamentoAnual = parseFloat(this.value) || 0;
                const meses = parseInt(document.getElementById('mesesFaturamento').value) || 12;
                document.getElementById('faturamentoMensal').value = (faturamentoAnual / meses).toFixed(2);
                calcularTudo();
            });
            
            document.getElementById('mesesFaturamento').addEventListener('change', function() {
                atualizarFaturamentoAnual();
            });
        });
    </script>
</body>
  </html>
